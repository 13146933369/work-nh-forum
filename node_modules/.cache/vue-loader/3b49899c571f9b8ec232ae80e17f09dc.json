{"remainingRequest":"F:\\石春阳-2019.0706\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\石春阳-2019.0706\\vue\\src\\views\\microShow\\MicroShowDefault.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\石春阳-2019.0706\\vue\\src\\views\\microShow\\MicroShowDefault.vue","mtime":1562205737808},{"path":"F:\\石春阳-2019.0706\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\石春阳-2019.0706\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\石春阳-2019.0706\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {publicRequestPost} from '../../components/requerst/request'\nimport qs from 'qs'\nexport default {\n    data() {\n        return {\n            items:[],\n            pullDownRefresh: this.pullDownRefreshObj,\n            pullUpLoad: this.pullUpLoadObj,\n            scrollbar: true,\n            pullDownRefreshThreshold: 60,\n            pullDownRefreshStop: 40,\n            page:1,\n            pageCount:10,\n            imgUrl:this.GLOBAL.imgUrl\n        }\n    },\n    created() {\n        this.getData()\n    },\n    computed: {\n        options() {\n            return {\n                pullDownRefresh: this.pullDownRefreshObj,\n                pullUpLoad: this.pullUpLoadObj,\n                scrollbar: true\n            }\n        }\n    },\n\n    methods: {\n        getData(){\n            if (this.page <= this.pageCount) {\n                let url = \"/vote/bbsList\"\n                let parameter =qs.stringify({\n                    type:2,\n                    page: this.page,\n                    lastId:\"\"\n                })\n                publicRequestPost(url,parameter ,this.getDataBack)\n                this.bus.$emit('loading', true);\n\n            }else{\n                this.$refs.scroll.forceUpdate()\n            }\n        },\n        getDataBack(callBack){\n            this.bus.$emit('loading', false);\n            let self = this\n            if(callBack.data.status == 2034){\n                this.$refs.scroll.forceUpdate()\n                return\n            }\n            if(callBack.data.status == 2030){\n                callBack.data.data.reArr.forEach(item =>{\n                    self.items.push(item)\n                })\n                self.page++\n                self.pageCount = callBack.data.data.pageCount\n                console.log(self.pageCount)\n\n            }\n\n        },\n        pullUpLoadObj: function() {\n            return this.pullUpLoad ? {\n                threshold: parseInt(this.pullUpLoadThreshold),\n                txt: {\n                    more: this.pullUpLoadMoreTxt,\n                    noMore: this.pullUpLoadNoMoreTxt\n                }\n            } : false\n        },\n        onPullingUp() {\n            if(this.scrollbar){\n                this.getData()\n            }else{\n                this.$refs.scroll.forceUpdate()\n            }\n\n        },\n\n        microShowFun(obj){\n            this.$router.push({\n                path:\"/microShow/microShowDetails\",\n                query:{           //路由传参时push和query搭配使用 ，作用时传递参数\n                    id:obj.id,\n                }\n            })\n        },\n        microShowButFun(){\n            this.$router.push({\n                path:\"/microShow/microShowUploading\"\n            })\n        }\n    }\n}\n",{"version":3,"sources":["MicroShowDefault.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MicroShowDefault.vue","sourceRoot":"src/views/microShow","sourcesContent":["<template>\r\n<div class=\"microShow\">\r\n    <div class=\"scroll-list-wrap\">\r\n        <cube-scroll\r\n                ref=\"scroll\"\r\n                :data=\"items\"\r\n                :options=\"options\"\r\n                @pulling-up=\"onPullingUp\">\r\n                <ul class=\"microShowUl\">\r\n                    <li v-for=\"microData in items\">\r\n                        <div class=\"microShowBg\" @click=\"microShowFun(microData)\">\r\n                            <img src=\"../../assets/arrows.png\" class=\"microShowArrows\">\r\n                            <div class=\"microShowBor\"></div>\r\n                            <img :src=\"imgUrl+microData.pic\" class=\"microShowImg\">\r\n                            <div class=\"microShowName\">{{microData.name}}</div>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n        </cube-scroll>\r\n    </div>\r\n<!--展现风采按钮-->\r\n<div class=\"microShowBut\" @click=\"microShowButFun\">展现风采</div>\r\n<!--底部菜单栏-->\r\n<div class=\"microClassFoot\">\r\n    <div class=\"microClassFootBox\">\r\n        <div class=\"flexBut\">\r\n            <router-link :to=\"{path:'/microClass/microClassDefault'}\">\r\n                <img src=\"../../assets/but_3.png\">\r\n                <div class=\"flexFont\">微课堂</div>\r\n            </router-link>\r\n        </div>\r\n        <div class=\"flexBut\">\r\n            <router-link :to=\"{path:'/microFourm/microFourmDefault'}\">\r\n                <img src=\"../../assets/but_2.png\">\r\n                <div class=\"flexFont\">微论坛</div>\r\n            </router-link>\r\n        </div>\r\n        <div class=\"flexBut\">\r\n            <router-link :to=\"{path:'/'}\">\r\n                <img src=\"../../assets/but_1.png\">\r\n                <div class=\"flexFont\">首页</div>\r\n            </router-link>\r\n        </div>\r\n        <div class=\"flexBut\">\r\n            <router-link :to=\"{path:'/broadcast/broadcastDefault'}\">\r\n                <img src=\"../../assets/but_4.png\">\r\n                <div class=\"flexFont\">动态播报</div>\r\n            </router-link>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n    import {publicRequestPost} from '../../components/requerst/request'\r\n    import qs from 'qs'\r\n    export default {\r\n        data() {\r\n            return {\r\n                items:[],\r\n                pullDownRefresh: this.pullDownRefreshObj,\r\n                pullUpLoad: this.pullUpLoadObj,\r\n                scrollbar: true,\r\n                pullDownRefreshThreshold: 60,\r\n                pullDownRefreshStop: 40,\r\n                page:1,\r\n                pageCount:10,\r\n                imgUrl:this.GLOBAL.imgUrl\r\n            }\r\n        },\r\n        created() {\r\n            this.getData()\r\n        },\r\n        computed: {\r\n            options() {\r\n                return {\r\n                    pullDownRefresh: this.pullDownRefreshObj,\r\n                    pullUpLoad: this.pullUpLoadObj,\r\n                    scrollbar: true\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            getData(){\r\n                if (this.page <= this.pageCount) {\r\n                    let url = \"/vote/bbsList\"\r\n                    let parameter =qs.stringify({\r\n                        type:2,\r\n                        page: this.page,\r\n                        lastId:\"\"\r\n                    })\r\n                    publicRequestPost(url,parameter ,this.getDataBack)\r\n                    this.bus.$emit('loading', true);\r\n\r\n                }else{\r\n                    this.$refs.scroll.forceUpdate()\r\n                }\r\n            },\r\n            getDataBack(callBack){\r\n                this.bus.$emit('loading', false);\r\n                let self = this\r\n                if(callBack.data.status == 2034){\r\n                    this.$refs.scroll.forceUpdate()\r\n                    return\r\n                }\r\n                if(callBack.data.status == 2030){\r\n                    callBack.data.data.reArr.forEach(item =>{\r\n                        self.items.push(item)\r\n                    })\r\n                    self.page++\r\n                    self.pageCount = callBack.data.data.pageCount\r\n                    console.log(self.pageCount)\r\n\r\n                }\r\n\r\n            },\r\n            pullUpLoadObj: function() {\r\n                return this.pullUpLoad ? {\r\n                    threshold: parseInt(this.pullUpLoadThreshold),\r\n                    txt: {\r\n                        more: this.pullUpLoadMoreTxt,\r\n                        noMore: this.pullUpLoadNoMoreTxt\r\n                    }\r\n                } : false\r\n            },\r\n            onPullingUp() {\r\n                if(this.scrollbar){\r\n                    this.getData()\r\n                }else{\r\n                    this.$refs.scroll.forceUpdate()\r\n                }\r\n\r\n            },\r\n\r\n            microShowFun(obj){\r\n                this.$router.push({\r\n                    path:\"/microShow/microShowDetails\",\r\n                    query:{           //路由传参时push和query搭配使用 ，作用时传递参数\r\n                        id:obj.id,\r\n                    }\r\n                })\r\n            },\r\n            microShowButFun(){\r\n                this.$router.push({\r\n                    path:\"/microShow/microShowUploading\"\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.microShow\r\n width: 100%\r\n height 100%\r\n background-color #fff\r\n font-family:\"微软雅黑\";\r\n .microClassFoot\r\n    position absolute\r\n    left 0\r\n    bottom 0\r\n    width 100%;\r\n    height 120px\r\n    background #ACE9C5\r\n    .microClassFootBox\r\n        width 650px\r\n        height 120px\r\n        margin 0 auto\r\n        display flex\r\n        flex-direction row\r\n        flex-wrap wrap\r\n        .flexBut\r\n            text-align center\r\n            width 120px;\r\n            height 90px\r\n            margin 0 20px\r\n            margin-top 13px\r\n            img\r\n                height 66px\r\n        .flexFont\r\n            font-family:\"微软雅黑\";\r\n            margin-top 2px\r\n            font-size 24px;\r\n            color #000000\r\n            font-weight bold\r\n\r\n .scroll-list-wrap\r\n     width 100%\r\n     height 800px\r\n     overflow-x hidden\r\n     .microShowUl\r\n       width 700px\r\n       margin 0 auto\r\n       display flex\r\n       flex-direction row\r\n       flex-wrap wrap\r\n       .microShowBg\r\n           position relative\r\n           width 320px\r\n           height 220px\r\n           margin 28px 10px\r\n           margin-bottom 20px\r\n           /*border-radius 5%*/\r\n           /*box-shadow: 2px 8px 10px #bcbcbc;*/\r\n           .microShowArrows\r\n              width 24px\r\n              height 24px\r\n              position absolute\r\n              bottom 15px\r\n              right 20px\r\n              z-index 150\r\n            .microShowBor\r\n               position absolute\r\n               bottom -5px\r\n               width 320px\r\n               height 60px\r\n               border-bottom-right-radius 20px\r\n               border-bottom-left-radius: 20px\r\n               background-color:rgba(61,65,72,0.8)\r\n               z-index 100\r\n            .microShowName\r\n                font-family:\"微软雅黑\";\r\n                position absolute\r\n                bottom 15px\r\n                left 12px\r\n                font-size 25px\r\n                color #fff\r\n                z-index 150\r\n            .microShowImg{\r\n                border-radius 9px\r\n                width 320px\r\n                height 220px\r\n                position absolute\r\n                left 0 top 0\r\n            }\r\n\r\n .microShowBut\r\n    position absolute\r\n    font-size 28px\r\n    bottom 200px\r\n    width 175px\r\n    height 55px\r\n    text-align center\r\n    color:#fff\r\n    background-color #ace9c5\r\n    border-radius 30px\r\n    left 50%\r\n    transform:translate(-50%,0)\r\n    line-height 58px\r\n    font-weight bold\r\n\r\n</style>"]}]}